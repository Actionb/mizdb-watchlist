{% load static i18n %}
{% csrf_token %}
<script src="{% static 'mizdb_watchlist/js/watchlist.js' %}"></script>

<div id="watchlist">
    {% for model_name, watchlist_items in watchlist.items %}
    <div id="{{model_name}}-watchlist">
        <h2>{{ model_name }}</h2>
        <ul class="list-group list-group-flush">
            {% for watchlist_item in watchlist_items %}
            <li class="list-group-item list-group-item-action d-flex justify-content-between">
                <a href="{{ watchlist_item.object_url }}" class="text-decoration-none">{{ watchlist_item.object_repr }}</a>
                <button class="btn text-danger watchlist-remove-btn" title="{% translate 'Remove from watchlist' %}" data-url="{{ remove_url }}" data-object-id="{{ watchlist_item.object_id }}" data-model-label="{{ watchlist_item.model_label }}">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                </button>
            </li>
            {% endfor %}
        </ul>
    </div>
    {% endfor %}
</div>
